# Инструкция по использованию Docker-образа для сборки сервера

## Запуск последней версии сервера

Для запуска сервера достаточно ввести команду:
```bash
docker run -it -d -p 7777:7777 --rm alexey123789/ode-server:latest
```

Чтобы убедиться, что сервер работает, введите в браузере следующий адрес:
```
http://127.0.0.1:7777
```

В случае успеха появится сообщение `Server is working fine!`
## Сборка сервера

Для упрощения процесса сборки серверного приложения, сборка производится в docker-контейнере. Поскольку для сборки под Linux требуется специфичная среда и множество зависимостей, таких как компиляторы, инструменты сборки, OpenSSL и другие библиотеки, использование Docker позволяет создать изолированное и воспроизводимое окружение. Образ включает все необходимые пакеты и инструменты, такие как make, cmake, libssl-dev и libboost-all-dev, что устраняет необходимость ручной настройки среды и делает процесс сборки удобным, надежным и переносимым.

### Сборка сервера

1. Находясь в корне репозитория, перейдите в директорию с кодом сервера:
    ```bash
    cd Server
    ```

2. Запустите контейнер с монтированием папки проекта
    ```bash
    docker run -it --rm -v "$(pwd):/server" alexey123789/server-builder:latest
    ```

2. Перейдите в директорию `server/build` (создайте при необходимости):
   ```bash
   cd build
   ```

3. Соберите сервер:
   ```bash
   cmake ..
   make
   ```

### Обновление образа сервера

1. Находясь в корне репозитория, перейдите в директорию с кодом сервера:
    ```bash
    cd Server
    ```

2. Соберите образ локально:
    ```bash
    docker build -t alexey123789/ode-server:latest .
    ```

4. Загрузите обновленный образ для использования в будущем:
    ```bash
    docker login
    docker push alexey123789/ode-server:latest
    ```

### Обновление образа для сборки сервера

1. Находясь в корне репозитория, перейдите в директорию с `Dockerfile`:
    ```bash
    cd Docker
    ```

2. Соберите образ локально:
    ```bash
    docker build -t alexey123789/server-builder:latest .
    ```

3. Загрузите обновленный образ для использования в будущем:
    ```bash
    docker login
    docker push alexey123789/server-builder:latest
    ```